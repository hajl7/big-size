<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>개인정보 및 동의•이용 동의서</title>
  <link rel="stylesheet" href="proposal_6.css">
</head>
<body>
    <div class="mobile-container">
        <form class="info-form">
             <div>
                 <button class="agree-detail-close" onclick="window.close()">×</button>
             </div>
            <h2 class="form-title2">개인정보 및 동의•이용<br>동의서</h2>
            <div class="agree-list">
                <div class="agree-chapter open">
                    <div class="agree-title-row">
                        <span class="agree-title">개인정보 수집 및 이용 동의</span>
                    </div>
                    <div class="agree-content">
                        <div>
                            (1) 개인 수집 항목<br>
                            (2) ~
                        </div>
                        <label class="checkbox-label">
                            <input type="checkbox"  class="agree-checkbox ">
                            동의합니다.
                        </label>             
                    </div>
                </div>
                <div class="agree-chapter open">
                    <div class="agree-title-row">
                        <span class="agree-title">고유식별정보의 수집 및 이용 동의</span>
                    </div>
                    <div class="agree-content">
                        <div>
                           (1) 고유식별정보 수집 항목<br>
                           (2) ~
                        </div>
                        <label class="checkbox-label">
                            <input type="checkbox"  class="agree-checkbox ">
                            동의합니다.
                        </label>             
                    </div>
                </div>
                <div class="agree-chapter open">
                    <div class="agree-title-row">
                        <span class="agree-title">민감정보 수집 및 이용 동의</span>
                    </div>
                    <div class="agree-content">
                        <div>
                            (1) 민감정보 수집 항목<br>
                            (2) ~
                        </div>
                        <label class="checkbox-label">
                            <input type="checkbox"  class="agree-checkbox ">
                            동의합니다.
                        </label>             
                    </div>
                </div>
                <div class="agree-chapter open">
                    <div class="agree-title-row">
                        <span class="agree-title">바이오정보 수집 및 이용 동의 <br>(얼굴인식 출역 관리 등록 시)</span>
                    </div>
                    <div class="agree-content">
                        <div>
                            (1) 바이오정보 수집 항목<br>
                            (2) ~
                        </div>
                        <label class="checkbox-label">
                            <input type="checkbox"  class="agree-checkbox ">
                            동의합니다.
                        </label>             
                    </div>
                </div>
                <div class="agree-chapter open">
                    <div class="agree-title-row">
                        <span class="agree-title">CCTV/드론 촬영 수집 및 <br>이용 동의</span>
                    </div>
                    <div class="agree-content">
                        <div>
                            (1) CCTV/드론 촬영 수집 항목<br>
                            (2) ~
                        </div>
                        <label class="checkbox-label">
                            <input type="checkbox"  class="agree-checkbox ">
                            동의합니다.
                        </label>             
                    </div>
                </div>
            </div>
            <div class="agree-all-row">
                <input type="checkbox" id="agree-all" class="agree-checkbox">
                <label for="agree-all">전체 동의</label>
            </div>
            <button type="submit" class="next-btn" id="agreeConfirmBtn2" >동의</button>
        </form>
    </div>
</body>
</html>
<script>
    //임시로 작성함
  document.getElementById('agree-all').addEventListener('change', function(e) {
            const checked = e.target.checked;
            document.querySelectorAll('.agree-checkbox').forEach(cb => cb.checked = checked);
        });

    
     const btn = document.getElementById('agreeConfirmBtn2');
    const checkboxes = document.querySelectorAll('.agree-checkbox');
  
    btn.addEventListener('click', function() {
      if (!btn.disabled) {
         const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
        
        if (!allChecked) {
          alert('동의 항목을 체크해주세요');
          return;
        }

        if (window.opener) {
          window.opener.postMessage('agreeConfirmed2', '*');
        }
        window.close();
      }
    });
    </script>
